import cv2
import numpy as np

# Usage
def solution(image_path):
    image= cv2.imread(image_path)
    ######################################################################
    ######################################################################
    #####  WRITE YOUR CODE BELOW THIS LINE ###############################
    blue = [[199,290],[199,291],[199,292],[199,293],[199,294],[199,295],[199,296],[199,297],[199,298],[199,299],[199,300],[199,301],[199,302],[199,303],[199,304],[199,305],[199,306],[199,307],[199,308],[200,282],[200,283],[200,284],[200,285],[200,286],[200,287],[200,288],[200,289],[200,290],[200,291],[200,292],[200,293],[200,294],[200,295],[200,296],[200,297],[200,298],[200,299],[200,300],[200,301],[200,302],[200,303],[200,304],[200,305],[200,306],[200,307],[200,308],[200,309],[200,310],[200,311],[200,312],[200,313],[200,314],[200,315],[200,316],[201,277],[201,278],[201,279],[201,280],[201,281],[201,282],[201,283],[201,284],[201,285],[201,286],[201,287],[201,288],[201,289],[201,299],[201,309],[201,310],[201,311],[201,312],[201,313],[201,314],[201,315],[201,316],[201,317],[201,318],[201,319],[201,320],[201,321],[202,273],[202,274],[202,275],[202,276],[202,277],[202,278],[202,279],[202,280],[202,281],[202,299],[202,317],[202,318],[202,319],[202,320],[202,321],[202,322],[202,323],[202,324],[202,325],[203,270],[203,271],[203,272],[203,273],[203,274],[203,275],[203,276],[203,299],[203,322],[203,323],[203,324],[203,325],[203,326],[203,327],[203,328],[204,267],[204,268],[204,269],[204,270],[204,271],[204,272],[204,274],[204,299],[204,325],[204,326],[204,327],[204,328],[204,329],[204,330],[204,331],[205,264],[205,265],[205,266],[205,267],[205,268],[205,269],[205,275],[205,299],[205,324],[205,329],[205,330],[205,331],[205,332],[205,333],[205,334],[206,262],[206,263],[206,264],[206,265],[206,266],[206,275],[206,299],[206,324],[206,332],[206,333],[206,334],[206,335],[206,336],[207,259],[207,260],[207,261],[207,262],[207,263],[207,275],[207,299],[207,324],[207,335],[207,336],[207,337],[207,338],[207,339],[208,257],[208,258],[208,259],[208,260],[208,261],[208,275],[208,299],[208,324],[208,337],[208,338],[208,339],[208,340],[208,341],[209,255],[209,256],[209,257],[209,258],[209,276],[209,299],[209,323],[209,340],[209,341],[209,342],[209,343],[210,253],[210,254],[210,255],[210,256],[210,276],[210,299],[210,323],[210,342],[210,343],[210,344],[210,345],[211,251],[211,252],[211,253],[211,254],[211,276],[211,299],[211,323],[211,344],[211,345],[211,346],[211,347],[212,249],[212,250],[212,251],[212,252],[212,276],[212,299],[212,323],[212,346],[212,347],[212,348],[212,349],[213,248],[213,249],[213,250],[213,277],[213,299],[213,322],[213,348],[213,349],[213,350],[214,246],[214,247],[214,248],[214,249],[214,250],[214,277],[214,299],[214,322],[214,348],[214,349],[214,350],[214,351],[214,352],[215,244],[215,245],[215,246],[215,247],[215,250],[215,277],[215,299],[215,322],[215,348],[215,351],[215,352],[215,353],[215,354],[216,243],[216,244],[216,245],[216,251],[216,277],[216,299],[216,321],[216,347],[216,353],[216,354],[216,355],[217,242],[217,243],[217,244],[217,251],[217,278],[217,299],[217,321],[217,347],[217,354],[217,355],[217,356],[218,240],[218,241],[218,242],[218,252],[218,278],[218,299],[218,321],[218,346],[218,356],[218,357],[218,358],[219,239],[219,240],[219,241],[219,252],[219,278],[219,299],[219,321],[219,346],[219,357],[219,358],[219,359],[220,238],[220,239],[220,240],[220,253],[220,278],[220,299],[220,320],[220,345],[220,358],[220,359],[220,360],[221,236],[221,237],[221,238],[221,254],[221,279],[221,299],[221,320],[221,344],[221,360],[221,361],[221,362],[222,235],[222,236],[222,237],[222,254],[222,279],[222,299],[222,320],[222,344],[222,361],[222,362],[222,363],[223,234],[223,235],[223,236],[223,255],[223,279],[223,299],[223,320],[223,343],[223,362],[223,363],[223,364],[224,233],[224,234],[224,255],[224,279],[224,299],[224,319],[224,343],[224,364],[224,365],[225,232],[225,233],[225,256],[225,280],[225,299],[225,319],[225,342],[225,365],[225,366],[226,231],[226,232],[226,257],[226,280],[226,299],[226,319],[226,341],[226,366],[226,367],[227,230],[227,231],[227,257],[227,280],[227,299],[227,319],[227,341],[227,367],[227,368],[228,229],[228,230],[228,258],[228,281],[228,299],[228,318],[228,340],[228,368],[228,369],[229,228],[229,229],[229,258],[229,281],[229,299],[229,318],[229,340],[229,369],[229,370],[230,227],[230,228],[230,230],[230,259],[230,281],[230,299],[230,318],[230,339],[230,369],[230,370],[230,371],[231,226],[231,227],[231,231],[231,259],[231,281],[231,299],[231,317],[231,339],[231,368],[231,371],[231,372],[232,225],[232,226],[232,232],[232,260],[232,282],[232,299],[232,317],[232,338],[232,367],[232,372],[232,373],[233,224],[233,225],[233,233],[233,261],[233,282],[233,299],[233,317],[233,337],[233,366],[233,373],[233,374],[234,223],[234,224],[234,234],[234,261],[234,282],[234,299],[234,317],[234,337],[234,365],[234,374],[234,375],[235,222],[235,223],[235,235],[235,262],[235,282],[235,299],[235,316],[235,336],[235,364],[235,375],[235,376],[236,221],[236,222],[236,223],[236,236],[236,262],[236,283],[236,299],[236,316],[236,336],[236,363],[236,375],[236,376],[236,377],[237,221],[237,222],[237,237],[237,263],[237,283],[237,299],[237,316],[237,335],[237,362],[237,376],[237,377],[238,220],[238,221],[238,238],[238,264],[238,283],[238,299],[238,316],[238,334],[238,361],[238,377],[238,378],[239,219],[239,220],[239,239],[239,264],[239,283],[239,299],[239,315],[239,334],[239,360],[239,378],[239,379],[240,218],[240,219],[240,220],[240,240],[240,265],[240,284],[240,299],[240,315],[240,333],[240,359],[240,378],[240,379],[240,380],[241,218],[241,219],[241,241],[241,265],[241,284],[241,299],[241,315],[241,333],[241,358],[241,379],[241,380],[242,217],[242,218],[242,242],[242,266],[242,284],[242,299],[242,314],[242,332],[242,357],[242,380],[242,381],[243,216],[243,217],[243,243],[243,266],[243,284],[243,299],[243,314],[243,332],[243,356],[243,381],[243,382],[244,215],[244,216],[244,217],[244,244],[244,267],[244,285],[244,299],[244,314],[244,331],[244,355],[244,381],[244,382],[244,383],[245,215],[245,216],[245,245],[245,268],[245,285],[245,299],[245,314],[245,330],[245,354],[245,382],[245,383],[246,214],[246,215],[246,246],[246,268],[246,285],[246,299],[246,313],[246,330],[246,353],[246,383],[246,384],[247,214],[247,215],[247,247],[247,269],[247,285],[247,299],[247,313],[247,329],[247,352],[247,383],[247,384],[248,213],[248,214],[248,248],[248,269],[248,286],[248,299],[248,313],[248,329],[248,351],[248,384],[248,385],[249,212],[249,213],[249,214],[249,249],[249,270],[249,286],[249,299],[249,313],[249,328],[249,350],[249,384],[249,385],[249,386],[250,212],[250,213],[250,214],[250,215],[250,250],[250,271],[250,286],[250,299],[250,312],[250,327],[250,349],[250,384],[250,385],[250,386],[251,211],[251,212],[251,216],[251,217],[251,251],[251,271],[251,286],[251,299],[251,312],[251,327],[251,348],[251,382],[251,383],[251,386],[251,387],[252,211],[252,212],[252,218],[252,219],[252,252],[252,272],[252,287],[252,299],[252,312],[252,326],[252,347],[252,380],[252,381],[252,386],[252,387],[253,210],[253,211],[253,220],[253,253],[253,272],[253,287],[253,299],[253,311],[253,326],[253,346],[253,379],[253,387],[253,388],[254,210],[254,211],[254,221],[254,222],[254,254],[254,273],[254,287],[254,299],[254,311],[254,325],[254,345],[254,377],[254,378],[254,387],[254,388],[255,209],[255,210],[255,223],[255,224],[255,255],[255,273],[255,288],[255,299],[255,311],[255,325],[255,344],[255,375],[255,376],[255,388],[255,389],[256,209],[256,210],[256,225],[256,256],[256,274],[256,288],[256,299],[256,311],[256,324],[256,343],[256,373],[256,374],[256,388],[256,389],[257,208],[257,209],[257,226],[257,227],[257,257],[257,275],[257,288],[257,299],[257,310],[257,323],[257,342],[257,372],[257,389],[257,390],[258,208],[258,209],[258,228],[258,229],[258,258],[258,275],[258,288],[258,299],[258,310],[258,323],[258,341],[258,370],[258,371],[258,389],[258,390],[259,207],[259,208],[259,230],[259,231],[259,259],[259,276],[259,289],[259,299],[259,310],[259,322],[259,340],[259,368],[259,369],[259,390],[259,391],[260,207],[260,208],[260,232],[260,260],[260,276],[260,289],[260,299],[260,310],[260,322],[260,339],[260,366],[260,367],[260,390],[260,391],[261,207],[261,208],[261,233],[261,234],[261,261],[261,277],[261,289],[261,299],[261,309],[261,321],[261,338],[261,365],[261,390],[261,391],[262,206],[262,207],[262,235],[262,236],[262,262],[262,277],[262,289],[262,299],[262,309],[262,321],[262,337],[262,363],[262,364],[262,391],[262,392],[263,206],[263,207],[263,237],[263,263],[263,278],[263,290],[263,299],[263,309],[263,320],[263,336],[263,361],[263,362],[263,391],[263,392],[264,205],[264,206],[264,238],[264,239],[264,264],[264,279],[264,290],[264,299],[264,308],[264,319],[264,334],[264,335],[264,360],[264,392],[264,393],[265,205],[265,206],[265,240],[265,241],[265,265],[265,279],[265,290],[265,299],[265,308],[265,319],[265,333],[265,358],[265,359],[265,392],[265,393],[266,205],[266,206],[266,242],[266,243],[266,266],[266,280],[266,290],[266,299],[266,308],[266,318],[266,332],[266,356],[266,357],[266,392],[266,393],[267,204],[267,205],[267,244],[267,267],[267,280],[267,291],[267,299],[267,308],[267,318],[267,331],[267,354],[267,355],[267,393],[267,394],[268,204],[268,205],[268,245],[268,246],[268,268],[268,281],[268,291],[268,299],[268,307],[268,317],[268,330],[268,353],[268,393],[268,394],[269,204],[269,205],[269,247],[269,248],[269,269],[269,282],[269,291],[269,299],[269,307],[269,316],[269,329],[269,351],[269,352],[269,393],[269,394],[270,203],[270,204],[270,249],[270,270],[270,282],[270,291],[270,299],[270,307],[270,316],[270,328],[270,349],[270,350],[270,394],[270,395],[271,203],[271,204],[271,250],[271,251],[271,271],[271,283],[271,292],[271,299],[271,307],[271,315],[271,327],[271,347],[271,348],[271,394],[271,395],[272,203],[272,204],[272,252],[272,253],[272,272],[272,283],[272,292],[272,299],[272,306],[272,315],[272,326],[272,346],[272,394],[272,395],[273,202],[273,203],[273,254],[273,255],[273,273],[273,284],[273,292],[273,299],[273,306],[273,314],[273,325],[273,344],[273,345],[273,395],[273,396],[274,202],[274,203],[274,204],[274,256],[274,274],[274,284],[274,292],[274,299],[274,306],[274,314],[274,324],[274,342],[274,343],[274,395],[274,396],[275,202],[275,203],[275,205],[275,206],[275,207],[275,208],[275,257],[275,258],[275,275],[275,285],[275,293],[275,299],[275,306],[275,313],[275,323],[275,340],[275,341],[275,391],[275,392],[275,393],[275,394],[275,395],[275,396],[276,202],[276,203],[276,209],[276,210],[276,211],[276,212],[276,259],[276,260],[276,276],[276,286],[276,293],[276,299],[276,305],[276,312],[276,322],[276,339],[276,387],[276,388],[276,389],[276,390],[276,395],[276,396],[277,201],[277,202],[277,213],[277,214],[277,215],[277,216],[277,261],[277,262],[277,277],[277,286],[277,293],[277,299],[277,305],[277,312],[277,321],[277,337],[277,338],[277,383],[277,384],[277,385],[277,386],[277,396],[277,397],[278,201],[278,202],[278,217],[278,218],[278,219],[278,220],[278,263],[278,278],[278,287],[278,294],[278,299],[278,305],[278,311],[278,320],[278,335],[278,336],[278,379],[278,380],[278,381],[278,382],[278,396],[278,397],[279,201],[279,202],[279,221],[279,222],[279,223],[279,224],[279,264],[279,265],[279,279],[279,287],[279,294],[279,299],[279,304],[279,311],[279,319],[279,333],[279,334],[279,375],[279,376],[279,377],[279,378],[279,396],[279,397],[280,201],[280,202],[280,225],[280,226],[280,227],[280,266],[280,267],[280,280],[280,288],[280,294],[280,299],[280,304],[280,310],[280,318],[280,332],[280,371],[280,372],[280,373],[280,374],[280,396],[280,397],[281,201],[281,202],[281,228],[281,229],[281,230],[281,231],[281,268],[281,281],[281,289],[281,294],[281,299],[281,304],[281,309],[281,317],[281,330],[281,331],[281,367],[281,368],[281,369],[281,370],[281,396],[281,397],[282,200],[282,201],[282,232],[282,233],[282,234],[282,235],[282,269],[282,270],[282,282],[282,289],[282,295],[282,299],[282,304],[282,309],[282,316],[282,328],[282,329],[282,364],[282,365],[282,366],[282,397],[282,398],[283,200],[283,201],[283,236],[283,237],[283,238],[283,239],[283,271],[283,272],[283,283],[283,290],[283,295],[283,299],[283,303],[283,308],[283,315],[283,326],[283,327],[283,360],[283,361],[283,362],[283,363],[283,397],[283,398],[284,200],[284,201],[284,240],[284,241],[284,242],[284,243],[284,273],[284,274],[284,284],[284,290],[284,295],[284,299],[284,303],[284,308],[284,314],[284,325],[284,356],[284,357],[284,358],[284,359],[284,397],[284,398],[285,200],[285,201],[285,244],[285,245],[285,246],[285,247],[285,275],[285,285],[285,291],[285,295],[285,299],[285,303],[285,307],[285,313],[285,323],[285,324],[285,352],[285,353],[285,354],[285,355],[285,397],[285,398],[286,200],[286,201],[286,248],[286,249],[286,250],[286,251],[286,276],[286,277],[286,286],[286,291],[286,296],[286,299],[286,303],[286,307],[286,312],[286,321],[286,322],[286,348],[286,349],[286,350],[286,351],[286,397],[286,398],[287,200],[287,201],[287,252],[287,253],[287,254],[287,278],[287,279],[287,287],[287,292],[287,296],[287,299],[287,302],[287,306],[287,311],[287,320],[287,344],[287,345],[287,346],[287,347],[287,397],[287,398],[288,200],[288,201],[288,255],[288,256],[288,257],[288,258],[288,280],[288,288],[288,293],[288,296],[288,299],[288,302],[288,305],[288,310],[288,318],[288,319],[288,340],[288,341],[288,342],[288,343],[288,397],[288,398],[289,200],[289,201],[289,259],[289,260],[289,261],[289,262],[289,281],[289,282],[289,289],[289,293],[289,296],[289,299],[289,302],[289,305],[289,309],[289,316],[289,317],[289,336],[289,337],[289,338],[289,339],[289,397],[289,398],[290,199],[290,200],[290,263],[290,264],[290,265],[290,266],[290,283],[290,284],[290,290],[290,294],[290,297],[290,299],[290,301],[290,304],[290,308],[290,314],[290,315],[290,332],[290,333],[290,334],[290,335],[290,398],[290,399],[291,199],[291,200],[291,267],[291,268],[291,269],[291,270],[291,285],[291,286],[291,291],[291,294],[291,297],[291,299],[291,301],[291,304],[291,307],[291,313],[291,329],[291,330],[291,331],[291,398],[291,399],[292,199],[292,200],[292,271],[292,272],[292,273],[292,274],[292,287],[292,292],[292,295],[292,297],[292,299],[292,301],[292,303],[292,306],[292,311],[292,312],[292,325],[292,326],[292,327],[292,328],[292,398],[292,399],[293,199],[293,200],[293,275],[293,276],[293,277],[293,288],[293,289],[293,293],[293,296],[293,297],[293,299],[293,301],[293,302],[293,305],[293,309],[293,310],[293,321],[293,322],[293,323],[293,324],[293,398],[293,399],[294,199],[294,200],[294,278],[294,279],[294,280],[294,281],[294,290],[294,291],[294,294],[294,296],[294,298],[294,299],[294,300],[294,302],[294,304],[294,307],[294,308],[294,317],[294,318],[294,319],[294,320],[294,398],[294,399],[295,199],[295,200],[295,282],[295,283],[295,284],[295,285],[295,292],[295,295],[295,297],[295,298],[295,299],[295,300],[295,301],[295,303],[295,306],[295,313],[295,314],[295,315],[295,316],[295,398],[295,399],[296,199],[296,200],[296,286],[296,287],[296,288],[296,289],[296,293],[296,294],[296,296],[296,297],[296,298],[296,299],[296,300],[296,301],[296,302],[296,304],[296,305],[296,309],[296,310],[296,311],[296,312],[296,398],[296,399],[297,199],[297,200],[297,290],[297,291],[297,292],[297,293],[297,295],[297,296],[297,297],[297,298],[297,299],[297,300],[297,301],[297,302],[297,303],[297,305],[297,306],[297,307],[297,308],[297,398],[297,399],[298,199],[298,200],[298,294],[298,295],[298,296],[298,297],[298,298],[298,299],[298,300],[298,301],[298,302],[298,303],[298,304],[298,398],[298,399],[299,199],[299,200],[299,201],[299,202],[299,203],[299,204],[299,205],[299,206],[299,207],[299,208],[299,209],[299,210],[299,211],[299,212],[299,213],[299,214],[299,215],[299,216],[299,217],[299,218],[299,219],[299,220],[299,221],[299,222],[299,223],[299,224],[299,225],[299,226],[299,227],[299,228],[299,229],[299,230],[299,231],[299,232],[299,233],[299,234],[299,235],[299,236],[299,237],[299,238],[299,239],[299,240],[299,241],[299,242],[299,243],[299,244],[299,245],[299,246],[299,247],[299,248],[299,249],[299,250],[299,251],[299,252],[299,253],[299,254],[299,255],[299,256],[299,257],[299,258],[299,259],[299,260],[299,261],[299,262],[299,263],[299,264],[299,265],[299,266],[299,267],[299,268],[299,269],[299,270],[299,271],[299,272],[299,273],[299,274],[299,275],[299,276],[299,277],[299,278],[299,279],[299,280],[299,281],[299,282],[299,283],[299,284],[299,285],[299,286],[299,287],[299,288],[299,289],[299,290],[299,291],[299,292],[299,293],[299,294],[299,295],[299,296],[299,297],[299,298],[299,299],[299,300],[299,301],[299,302],[299,303],[299,304],[299,305],[299,306],[299,307],[299,308],[299,309],[299,310],[299,311],[299,312],[299,313],[299,314],[299,315],[299,316],[299,317],[299,318],[299,319],[299,320],[299,321],[299,322],[299,323],[299,324],[299,325],[299,326],[299,327],[299,328],[299,329],[299,330],[299,331],[299,332],[299,333],[299,334],[299,335],[299,336],[299,337],[299,338],[299,339],[299,340],[299,341],[299,342],[299,343],[299,344],[299,345],[299,346],[299,347],[299,348],[299,349],[299,350],[299,351],[299,352],[299,353],[299,354],[299,355],[299,356],[299,357],[299,358],[299,359],[299,360],[299,361],[299,362],[299,363],[299,364],[299,365],[299,366],[299,367],[299,368],[299,369],[299,370],[299,371],[299,372],[299,373],[299,374],[299,375],[299,376],[299,377],[299,378],[299,379],[299,380],[299,381],[299,382],[299,383],[299,384],[299,385],[299,386],[299,387],[299,388],[299,389],[299,390],[299,391],[299,392],[299,393],[299,394],[299,395],[299,396],[299,397],[299,398],[299,399],[300,199],[300,200],[300,294],[300,295],[300,296],[300,297],[300,298],[300,299],[300,300],[300,301],[300,302],[300,303],[300,304],[300,398],[300,399],[301,199],[301,200],[301,290],[301,291],[301,292],[301,293],[301,295],[301,296],[301,297],[301,298],[301,299],[301,300],[301,301],[301,302],[301,303],[301,305],[301,306],[301,307],[301,308],[301,398],[301,399],[302,199],[302,200],[302,287],[302,288],[302,289],[302,294],[302,296],[302,297],[302,298],[302,299],[302,300],[302,301],[302,302],[302,304],[302,305],[302,309],[302,310],[302,311],[302,312],[302,398],[302,399],[303,199],[303,200],[303,283],[303,284],[303,285],[303,286],[303,292],[303,293],[303,295],[303,297],[303,298],[303,299],[303,300],[303,301],[303,303],[303,306],[303,313],[303,314],[303,315],[303,398],[303,399],[304,199],[304,200],[304,279],[304,280],[304,281],[304,282],[304,290],[304,291],[304,294],[304,296],[304,298],[304,299],[304,300],[304,302],[304,304],[304,307],[304,308],[304,316],[304,317],[304,318],[304,319],[304,398],[304,399],[305,199],[305,200],[305,276],[305,277],[305,278],[305,289],[305,293],[305,296],[305,297],[305,299],[305,301],[305,303],[305,305],[305,309],[305,310],[305,320],[305,321],[305,322],[305,323],[305,398],[305,399],[306,199],[306,200],[306,272],[306,273],[306,274],[306,275],[306,287],[306,288],[306,292],[306,295],[306,297],[306,299],[306,301],[306,303],[306,306],[306,311],[306,312],[306,324],[306,325],[306,326],[306,398],[306,399],[307,199],[307,200],[307,268],[307,269],[307,270],[307,271],[307,285],[307,286],[307,291],[307,294],[307,297],[307,299],[307,301],[307,304],[307,307],[307,313],[307,327],[307,328],[307,329],[307,330],[307,398],[307,399],[308,199],[308,200],[308,264],[308,265],[308,266],[308,267],[308,283],[308,284],[308,290],[308,294],[308,297],[308,299],[308,301],[308,304],[308,308],[308,314],[308,315],[308,331],[308,332],[308,333],[308,334],[308,398],[308,399],[309,200],[309,201],[309,261],[309,262],[309,263],[309,282],[309,289],[309,293],[309,296],[309,299],[309,302],[309,305],[309,309],[309,316],[309,317],[309,335],[309,336],[309,337],[309,338],[309,397],[309,398],[310,200],[310,201],[310,257],[310,258],[310,259],[310,260],[310,280],[310,281],[310,288],[310,293],[310,296],[310,299],[310,302],[310,305],[310,310],[310,318],[310,319],[310,339],[310,340],[310,341],[310,397],[310,398],[311,200],[311,201],[311,253],[311,254],[311,255],[311,256],[311,278],[311,279],[311,287],[311,292],[311,296],[311,299],[311,302],[311,306],[311,311],[311,320],[311,342],[311,343],[311,344],[311,345],[311,397],[311,398],[312,200],[312,201],[312,250],[312,251],[312,252],[312,277],[312,286],[312,292],[312,296],[312,299],[312,302],[312,307],[312,312],[312,321],[312,322],[312,346],[312,347],[312,348],[312,349],[312,397],[312,398],[313,200],[313,201],[313,246],[313,247],[313,248],[313,249],[313,275],[313,276],[313,285],[313,291],[313,295],[313,299],[313,303],[313,307],[313,313],[313,323],[313,324],[313,350],[313,351],[313,352],[313,353],[313,397],[313,398],[314,200],[314,201],[314,242],[314,243],[314,244],[314,245],[314,273],[314,274],[314,284],[314,290],[314,295],[314,299],[314,303],[314,308],[314,314],[314,325],[314,354],[314,355],[314,356],[314,397],[314,398],[315,200],[315,201],[315,239],[315,240],[315,241],[315,272],[315,283],[315,290],[315,295],[315,299],[315,303],[315,308],[315,315],[315,326],[315,327],[315,357],[315,358],[315,359],[315,360],[315,397],[315,398],[316,200],[316,201],[316,235],[316,236],[316,237],[316,238],[316,270],[316,271],[316,282],[316,289],[316,295],[316,299],[316,304],[316,309],[316,316],[316,328],[316,329],[316,361],[316,362],[316,363],[316,364],[316,397],[316,398],[317,201],[317,202],[317,231],[317,232],[317,233],[317,234],[317,268],[317,269],[317,281],[317,289],[317,294],[317,299],[317,304],[317,310],[317,317],[317,330],[317,331],[317,365],[317,366],[317,367],[317,368],[317,396],[317,397],[318,201],[318,202],[318,228],[318,229],[318,230],[318,267],[318,280],[318,288],[318,294],[318,299],[318,304],[318,310],[318,318],[318,332],[318,369],[318,370],[318,371],[318,396],[318,397],[319,201],[319,202],[319,224],[319,225],[319,226],[319,227],[319,265],[319,266],[319,279],[319,288],[319,294],[319,299],[319,304],[319,311],[319,319],[319,333],[319,334],[319,372],[319,373],[319,374],[319,375],[319,396],[319,397],[320,201],[320,202],[320,220],[320,221],[320,222],[320,223],[320,263],[320,264],[320,278],[320,287],[320,294],[320,299],[320,305],[320,311],[320,320],[320,335],[320,336],[320,376],[320,377],[320,378],[320,379],[320,396],[320,397],[321,201],[321,202],[321,216],[321,217],[321,218],[321,219],[321,262],[321,277],[321,286],[321,293],[321,299],[321,305],[321,312],[321,321],[321,337],[321,338],[321,380],[321,381],[321,382],[321,396],[321,397],[322,202],[322,203],[322,213],[322,214],[322,215],[322,260],[322,261],[322,276],[322,286],[322,293],[322,299],[322,305],[322,312],[322,322],[322,339],[322,383],[322,384],[322,385],[322,386],[322,395],[322,396],[323,202],[323,203],[323,209],[323,210],[323,211],[323,212],[323,258],[323,259],[323,275],[323,285],[323,293],[323,299],[323,305],[323,313],[323,323],[323,340],[323,341],[323,387],[323,388],[323,389],[323,390],[323,395],[323,396],[324,202],[324,203],[324,205],[324,206],[324,207],[324,208],[324,257],[324,274],[324,285],[324,293],[324,299],[324,306],[324,314],[324,324],[324,342],[324,343],[324,391],[324,392],[324,393],[324,394],[324,395],[324,396],[325,202],[325,203],[325,204],[325,255],[325,256],[325,273],[325,284],[325,292],[325,299],[325,306],[325,314],[325,325],[325,344],[325,345],[325,395],[325,396],[326,203],[326,204],[326,253],[326,254],[326,272],[326,283],[326,292],[326,299],[326,306],[326,315],[326,326],[326,346],[326,394],[326,395],[327,203],[327,204],[327,251],[327,252],[327,271],[327,283],[327,292],[327,299],[327,307],[327,315],[327,327],[327,347],[327,348],[327,394],[327,395],[328,203],[328,204],[328,250],[328,270],[328,282],[328,292],[328,299],[328,307],[328,316],[328,328],[328,349],[328,350],[328,394],[328,395],[329,204],[329,205],[329,248],[329,249],[329,269],[329,282],[329,291],[329,299],[329,307],[329,317],[329,329],[329,351],[329,352],[329,393],[329,394],[330,204],[330,205],[330,246],[330,247],[330,268],[330,281],[330,291],[330,299],[330,307],[330,317],[330,330],[330,353],[330,393],[330,394],[331,204],[331,205],[331,245],[331,267],[331,281],[331,291],[331,299],[331,308],[331,318],[331,331],[331,354],[331,355],[331,393],[331,394],[332,205],[332,206],[332,243],[332,244],[332,266],[332,280],[332,290],[332,299],[332,308],[332,318],[332,332],[332,356],[332,357],[332,392],[332,393],[333,205],[333,206],[333,241],[333,242],[333,265],[333,279],[333,290],[333,299],[333,308],[333,319],[333,333],[333,358],[333,359],[333,392],[333,393],[334,205],[334,206],[334,240],[334,264],[334,279],[334,290],[334,299],[334,308],[334,320],[334,334],[334,360],[334,392],[334,393],[335,206],[335,207],[335,238],[335,239],[335,264],[335,278],[335,290],[335,299],[335,309],[335,320],[335,335],[335,361],[335,362],[335,391],[335,392],[336,206],[336,207],[336,236],[336,237],[336,263],[336,278],[336,289],[336,299],[336,309],[336,321],[336,336],[336,363],[336,364],[336,391],[336,392],[337,207],[337,208],[337,235],[337,262],[337,277],[337,289],[337,299],[337,309],[337,321],[337,337],[337,365],[337,390],[337,391],[338,207],[338,208],[338,233],[338,234],[338,261],[338,277],[338,289],[338,299],[338,309],[338,322],[338,338],[338,366],[338,367],[338,390],[338,391],[339,207],[339,208],[339,231],[339,232],[339,260],[339,276],[339,289],[339,299],[339,310],[339,322],[339,339],[339,368],[339,369],[339,390],[339,391],[340,208],[340,209],[340,230],[340,259],[340,275],[340,288],[340,299],[340,310],[340,323],[340,340],[340,370],[340,371],[340,389],[340,390],[341,208],[341,209],[341,228],[341,229],[341,258],[341,275],[341,288],[341,299],[341,310],[341,324],[341,341],[341,372],[341,389],[341,390],[342,209],[342,210],[342,226],[342,227],[342,257],[342,274],[342,288],[342,299],[342,311],[342,324],[342,342],[342,373],[342,374],[342,388],[342,389],[343,209],[343,210],[343,224],[343,225],[343,256],[343,274],[343,288],[343,299],[343,311],[343,325],[343,343],[343,375],[343,376],[343,388],[343,389],[344,210],[344,211],[344,223],[344,255],[344,273],[344,287],[344,299],[344,311],[344,325],[344,344],[344,377],[344,378],[344,387],[344,388],[345,210],[345,211],[345,221],[345,222],[345,254],[345,273],[345,287],[345,299],[345,311],[345,326],[345,345],[345,379],[345,387],[345,388],[346,211],[346,212],[346,219],[346,220],[346,253],[346,272],[346,287],[346,299],[346,312],[346,327],[346,346],[346,380],[346,381],[346,386],[346,387],[347,211],[347,212],[347,218],[347,252],[347,271],[347,287],[347,299],[347,312],[347,327],[347,347],[347,382],[347,383],[347,386],[347,387],[348,212],[348,213],[348,216],[348,217],[348,251],[348,271],[348,286],[348,299],[348,312],[348,328],[348,348],[348,384],[348,385],[348,386],[349,212],[349,213],[349,214],[349,215],[349,250],[349,270],[349,286],[349,299],[349,312],[349,328],[349,349],[349,384],[349,385],[349,386],[350,213],[350,214],[350,249],[350,270],[350,286],[350,299],[350,313],[350,329],[350,350],[350,384],[350,385],[351,214],[351,215],[351,248],[351,269],[351,286],[351,299],[351,313],[351,329],[351,351],[351,383],[351,384],[352,214],[352,215],[352,247],[352,269],[352,285],[352,299],[352,313],[352,330],[352,352],[352,383],[352,384],[353,215],[353,216],[353,246],[353,268],[353,285],[353,299],[353,313],[353,331],[353,353],[353,382],[353,383],[354,215],[354,216],[354,217],[354,245],[354,267],[354,285],[354,299],[354,314],[354,331],[354,354],[354,381],[354,382],[354,383],[355,216],[355,217],[355,244],[355,267],[355,285],[355,299],[355,314],[355,332],[355,355],[355,381],[355,382],[356,217],[356,218],[356,243],[356,266],[356,284],[356,299],[356,314],[356,332],[356,356],[356,380],[356,381],[357,218],[357,219],[357,242],[357,266],[357,284],[357,299],[357,315],[357,333],[357,357],[357,379],[357,380],[358,218],[358,219],[358,220],[358,241],[358,265],[358,284],[358,299],[358,315],[358,334],[358,358],[358,378],[358,379],[358,380],[359,219],[359,220],[359,240],[359,265],[359,284],[359,299],[359,315],[359,334],[359,359],[359,378],[359,379],[360,220],[360,221],[360,239],[360,264],[360,283],[360,299],[360,315],[360,335],[360,360],[360,377],[360,378],[361,221],[361,222],[361,238],[361,263],[361,283],[361,299],[361,316],[361,335],[361,361],[361,376],[361,377],[362,221],[362,222],[362,223],[362,237],[362,263],[362,283],[362,299],[362,316],[362,336],[362,362],[362,375],[362,376],[362,377],[363,222],[363,223],[363,236],[363,262],[363,283],[363,299],[363,316],[363,337],[363,363],[363,375],[363,376],[364,223],[364,224],[364,235],[364,262],[364,282],[364,299],[364,316],[364,337],[364,364],[364,374],[364,375],[365,224],[365,225],[365,234],[365,261],[365,282],[365,299],[365,317],[365,338],[365,365],[365,373],[365,374],[366,225],[366,226],[366,233],[366,260],[366,282],[366,299],[366,317],[366,338],[366,366],[366,372],[366,373],[367,226],[367,227],[367,232],[367,260],[367,281],[367,299],[367,317],[367,339],[367,367],[367,371],[367,372],[368,227],[368,228],[368,231],[368,259],[368,281],[368,299],[368,317],[368,339],[368,368],[368,370],[368,371],[369,228],[369,229],[369,230],[369,259],[369,281],[369,299],[369,318],[369,340],[369,369],[369,370],[370,229],[370,230],[370,258],[370,281],[370,299],[370,318],[370,341],[370,368],[370,369],[370,370],[371,230],[371,231],[371,258],[371,280],[371,299],[371,318],[371,341],[371,367],[371,368],[372,231],[372,232],[372,257],[372,280],[372,299],[372,319],[372,342],[372,366],[372,367],[373,232],[373,233],[373,256],[373,280],[373,299],[373,319],[373,342],[373,365],[373,366],[374,233],[374,234],[374,256],[374,280],[374,299],[374,319],[374,343],[374,364],[374,365],[375,234],[375,235],[375,236],[375,255],[375,279],[375,299],[375,319],[375,344],[375,362],[375,363],[375,364],[376,235],[376,236],[376,237],[376,255],[376,279],[376,299],[376,320],[376,344],[376,361],[376,362],[376,363],[377,236],[377,237],[377,238],[377,254],[377,279],[377,299],[377,320],[377,345],[377,360],[377,361],[377,362],[378,238],[378,239],[378,240],[378,254],[378,279],[378,299],[378,320],[378,345],[378,358],[378,359],[378,360],[379,239],[379,240],[379,241],[379,253],[379,278],[379,299],[379,320],[379,346],[379,357],[379,358],[379,359],[380,240],[380,241],[380,242],[380,252],[380,278],[380,299],[380,321],[380,346],[380,356],[380,357],[380,358],[381,242],[381,243],[381,244],[381,252],[381,278],[381,299],[381,321],[381,347],[381,354],[381,355],[381,356],[382,243],[382,244],[382,245],[382,251],[382,278],[382,299],[382,321],[382,348],[382,353],[382,354],[382,355],[383,244],[383,245],[383,246],[383,247],[383,251],[383,277],[383,299],[383,322],[383,348],[383,351],[383,352],[383,353],[383,354],[384,246],[384,247],[384,248],[384,249],[384,250],[384,277],[384,299],[384,322],[384,349],[384,350],[384,351],[384,352],[385,248],[385,249],[385,250],[385,277],[385,299],[385,322],[385,348],[385,349],[385,350],[386,249],[386,250],[386,251],[386,252],[386,277],[386,299],[386,322],[386,346],[386,347],[386,348],[386,349],[386,350],[387,251],[387,252],[387,253],[387,254],[387,276],[387,299],[387,323],[387,344],[387,345],[387,346],[387,347],[388,253],[388,254],[388,255],[388,256],[388,276],[388,299],[388,323],[388,342],[388,343],[388,344],[388,345],[389,255],[389,256],[389,257],[389,258],[389,276],[389,299],[389,323],[389,340],[389,341],[389,342],[389,343],[390,257],[390,258],[390,259],[390,260],[390,261],[390,276],[390,299],[390,323],[390,337],[390,338],[390,339],[390,340],[390,341],[391,259],[391,260],[391,261],[391,262],[391,263],[391,275],[391,299],[391,324],[391,335],[391,336],[391,337],[391,338],[391,339],[392,262],[392,263],[392,264],[392,265],[392,266],[392,275],[392,299],[392,324],[392,332],[392,333],[392,334],[392,335],[392,336],[393,264],[393,265],[393,266],[393,267],[393,268],[393,269],[393,275],[393,299],[393,324],[393,329],[393,330],[393,331],[393,332],[393,333],[393,334],[394,267],[394,268],[394,269],[394,270],[394,271],[394,272],[394,275],[394,299],[394,324],[394,326],[394,327],[394,328],[394,329],[394,330],[394,331],[395,270],[395,271],[395,272],[395,273],[395,274],[395,275],[395,276],[395,299],[395,322],[395,323],[395,324],[395,325],[395,326],[395,327],[395,328],[396,273],[396,274],[396,275],[396,276],[396,277],[396,278],[396,279],[396,280],[396,281],[396,299],[396,317],[396,318],[396,319],[396,320],[396,321],[396,322],[396,323],[396,324],[396,325],[397,277],[397,278],[397,279],[397,280],[397,281],[397,282],[397,283],[397,284],[397,285],[397,286],[397,287],[397,288],[397,289],[397,299],[397,309],[397,310],[397,311],[397,312],[397,313],[397,314],[397,315],[397,316],[397,317],[397,318],[397,319],[397,320],[397,321],[398,282],[398,283],[398,284],[398,285],[398,286],[398,287],[398,288],[398,289],[398,290],[398,291],[398,292],[398,293],[398,294],[398,295],[398,296],[398,297],[398,298],[398,299],[398,300],[398,301],[398,302],[398,303],[398,304],[398,305],[398,306],[398,307],[398,308],[398,309],[398,310],[398,311],[398,312],[398,313],[398,314],[398,315],[398,316],[399,290],[399,291],[399,292],[399,293],[399,294],[399,295],[399,296],[399,297],[399,298],[399,299],[399,300],[399,301],[399,302],[399,303],[399,304],[399,305],[399,306],[399,307],[399,308]]

    truth_b = np.array(blue)

    flag = []
    for i in range(200):
      flag.append([])
      for j in range(600):
        flag[i].append([51, 153, 255])
    for i in range(199):
      flag.append([])
      for j in range(600):
        flag[200+i].append([255, 255, 255])
    for i in range(201):
      flag.append([])
      for j in range(600):
        flag[399+i].append([0, 128, 0])

    for i in range(len(truth_b)):
      flag[truth_b[i][0]][truth_b[i][1]][0] = 255
      flag[truth_b[i][0]][truth_b[i][1]][1] = 0
      flag[truth_b[i][0]][truth_b[i][1]][2] = 0

    truth = np.array(flag, dtype=np.uint8)

    t_img = cv2.cvtColor(truth, cv2.COLOR_BGR2RGB)
    t_img = cv2.cvtColor(t_img, cv2.COLOR_RGB2BGR)

    img_orig = image.copy()

    img = np.array(img_orig)
    rows = len(img)
    cols = len(img[0])
    outer_img = np.array(img, copy=True)

    for i in range(rows):
      for j in range(cols):
        if outer_img[i][j][0]==0 and outer_img[i][j][1]==0 and outer_img[i][j][2]==0:
          noth = 1
        else:
          outer_img[i][j][0]=255
          outer_img[i][j][1]=255
          outer_img[i][j][2]=255
        if img[i][j][0]>230:
          img[i][j][0]=255
          img[i][j][1]=255
          img[i][j][2]=255

    data = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)

    threshold1 = 0
    threshold2 = 255
    edges = cv2.Canny(data, threshold1, threshold2)

    img = np.array(edges)

    out_data = cv2.cvtColor(outer_img, cv2.COLOR_BGR2GRAY)

    threshold1 = 0
    threshold2 = 255
    edgesOut = cv2.Canny(out_data, threshold1, threshold2)

    outer_img = np.array(edgesOut)
    new_arr = []
    for i in range(rows):
      new_arr.append([])
      for j in range(cols):
        new_arr[i].append(0)

    for i in range(rows):
      for j in range(cols):
        new_arr[i][j] = np.uint8(int(img[i][j]) - int(outer_img[i][j])) if (int(img[i][j]) - int(outer_img[i][j]))>0 and (int(img[i][j]) - int(outer_img[i][j]))<256 else 0

    # img = np.array(new_arr, dtype=np.uint8)
    img = np.array(new_arr).astype(np.uint8)
    # img = new_arr
    out_data = cv2.normalize(img, dst=None, alpha=0, beta=255, norm_type=cv2.NORM_MINMAX, dtype=cv2.CV_8UC1)

    threshold1 = 0
    threshold2 = 255
    edgesFlag = cv2.Canny(out_data, threshold1, threshold2)

    sobelx = cv2.Sobel(edgesFlag,cv2.CV_64F,1,0)
    sobely = cv2.Sobel(edgesFlag,cv2.CV_64F,0,1)

    countx = 0
    county = 0
    for i in range(rows):
      for j in range(cols):
        if sobelx[i][j]!=0:
          countx = countx+1

    for i in range(rows):
      for j in range(cols):
        if sobely[i][j]!=0:
          county = county+1

    image = t_img
    if countx>county:
      # print("Vertical")
      row = len(sobelx)
      col = len(sobelx[0])
      minx = 400
      for i in range(row):
        for j in range(col):
          if sobelx[i][j] != 0:
            minx = min(j, minx)
            break
      my_img = np.array(img_orig)
      saf = 0
      gre = 0
      for i in range(rows):
        for j in range(minx):
          if my_img[i][j][2] > 230:
            saf = saf+1
          elif my_img[i][j][1] > 120:
            gre = gre+1
      if saf>gre:
        image = cv2.rotate(t_img, cv2.ROTATE_90_COUNTERCLOCKWISE)
      else:
        image = cv2.rotate(t_img, cv2.ROTATE_90_CLOCKWISE)
    else:
      row = len(sobely)
      col = len(sobely[0])
      miny = 400
      for i in range(col):
        for j in range(row):
          if sobely[j][i] != 0:
            miny = min(j, miny)
            break
      my_img = np.array(img_orig)
      saf = 0
      gre = 0
      for i in range(col):
        for j in range(miny):
          if my_img[j][i][2] > 230:
            saf = saf+1
          elif my_img[j][i][1] > 120:
            gre = gre+1
      if saf>gre:
        image = t_img
      else:
        image = cv2.rotate(t_img, cv2.ROTATE_180)
    ######################################################################

    return image
